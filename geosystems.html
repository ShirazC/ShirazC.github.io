<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.4/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.4/addons/p5.dom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.4/addons/p5.sound.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="css/geosystems.css">
  </head>
  <body>

    <script src="js/three.js">
      
      var geometry   = new THREE.SphereGeometry(0.5, 32, 32);
      var material  = new THREE.MeshPhongMaterial();
      var earthMesh = new THREE.Mesh(geometry, material);
      scene.add(earthMesh);
      material.map    = THREE.ImageUtils.loadTexture('img/earthmap.jpg');
      material.bumpMap    = THREE.ImageUtils.loadTexture('images/earthbump1k.jpg');
      material.bumpScale = 0.05;
      material.specularMap    = THREE.ImageUtils.loadTexture('images/earthspec1k.jpg');
      material.specular  = new THREE.Color('grey');

      var geometry   = new THREE.SphereGeometry(0.51, 32, 32)
      var material  = new THREE.MeshPhongMaterial({
        map     : new THREE.Texture(canvasCloud),
        side        : THREE.DoubleSide,
        opacity     : 0.8,
        transparent : true,
        depthWrite  : false,
      });
      var cloudMesh = new THREE.Mesh(geometry, material);
      earthMesh.add(cloudMesh);
      onRenderFcts.push(function(delta, now){
        earthMesh.rotation.y  += 1/32 * delta;
      });
      onRenderFcts.push(function(delta, now){
        cloudMesh.rotation.y  += 1/16 * delta
      });

    </script>

  </body>
</html>